{% extends "trips/base.html" %}
{% load crispy_forms_tags %}
{% block head %}
{% endblock head %}
{% block content %}
<div class=" card card-body align-items-center justify-content-center justify-content-md-between">
            <form method="GET" class="form-inline">
                <div class="form-group mb-2">
                <label for="{{ filter.form.source.id_for_label }}" class="mr-2">
                    {{ filter.form.source.label }}
                </label>
                {{ filter.form.source }}
                </div>

                <div class="form-group ml-2 mb-2">
                    <label for="{{ filter.form.destination.id_for_label }}" class="mr-2">
                        {{ filter.form.destination.label }}
                    </label>
                    {{ filter.form.destination }}
                </div>

                <div class="form-group ml-4 mb-2 pl-3 border-left">
                    <label for="{{ filter.form.dept_date.id_for_label }}" class="mr-2">
                        {{ filter.form.dept_date.label }}
                    </label>
                    {{ filter.form.dept_date }}
                </div>

                <div class="form-group ml-2 mb-2">
                    <label for="{{ filter.form.dept_time.id_for_label }}" class="mr-2">
                        {{ filter.form.dept_time.label }}
                    </label>
                    {{ filter.form.dept_time }}
                </div>

                <div class="form-group ml-4 mb-2 pl-3 border-left">
                    <label for="{{ filter.form.reserved_seats.id_for_label }}" class="mr-2">
                        {{ filter.form.reserved_seats.label }}
                    </label>
                    {{ filter.form.reserved_seats }}
                </div>

                <div class="form-group ml-2 mb-2">
                <button class="btn btn-primary" type="submit">Search</button>
                </div>
                
            </form>
        </div>
{% if trips %}
<div class="container card p-4 mt-3" style="max-width: 1250px;">
    <table class="table table-striped">
    <thead>
        <th scope="col">#</th>
        <th scope="col">Source</th>
        <th scope="col"></th>
        <th scope="col">Destination</th>
        <th scope="col">Departure Date</th>
        <th scope="col">Departure Time</th>
        <th scope="col"># Available Seats</th>
        <th scope="col">Train Name</th>
        <th scope="col"></th>
    </thead>
    <tbody>
{% for trip in filter.qs %}
<tr>
    <td>{{ trip.trip_id }}</td>
    <td>{{ trip.source }}</td>
    <td style="font-size: 36px; line-height: 14px;">â†’</td>
    <td>{{ trip.destination }}</td>
    <td>{{ trip.dept_date|date:"F d, Y" }}</td>
    <td>{{ trip.dept_time|time:"H:i"}}</td>
    <td>{{ trip.reserved_seats }}</td>
    <td>{{ trip.train_id.Train_name }}</td>
    <td><button type="button" class="btn btn-success">Book</button></td>
    </tr>
{% endfor %}
    </tbody>
</table>
</div>
</div>
{% endif %}
{% endblock content %}